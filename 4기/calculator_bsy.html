<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Calculator_SeyoungBaik</title>
  <meta name="author" content="tailofmoon">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  
</head>

<body>

<form name="cal">
  <table>
    <caption>계산기</caption>
    <tr>
      <th colspan="4"><input type="text" name="result" value="0"></th>  
    </tr>
    <tr>
      <td><input type="button" value="7"></td>
      <td><input type="button" value="8"></td>
      <td><input type="button" value="9"></td>
      
    </tr>
    <tr>
      <td><input type="button" value="4"></td>
      <td><input type="button" value="5"></td>
      <td><input type="button" value="6"></td>
      
    </tr>
    <tr>
      <td><input type="button" value="1"></td>
      <td><input type="button" value="2"></td>
      <td><input type="button" value="3"></td>
      <td><input type="button" value="+"></td>
      <td><input type="button" value="-"></td>
    </tr>
    
    <tr>
      <td colspan="2"><input type="button" class="cls_btn" value="clear" ></td> <!--클리어 버튼 사용  js 함수--> 
      
      <td colspan="2"><input type="button" class="result_btn" value="=" ></td>  <!-- 최종결과 함수 연동-->
    </tr>
  </table>
</form>

<script>
  
  // 변수 선언
var inp = document.forms['cal'];
var input = inp.getElementsByTagName('input'); //wondering
var cls_btn = document.getElementsByClassName('cls_btn')[0];
var result_btn = document.getElementsByClassName('result_btn')[0];

// 계산기 초기화(clear)
function clr(){
    inp['result'].value=0; //form 접근  //input name ='result' 이므로 값을 가져옴 
}

// 계산기 입력 처리 함수
function calc(value){
    //입력에 숫자 들어가면 default 0을 지움 
    if(inp['result'].value == 0){
        inp['result'].value = '';
    }
    // 입력값을 결과창에 출력
    inp['result'].value += value;
}

// 계산 결과 처리 함수
function my_result(){
    var result = document.forms['cal']['result'];
    var calc = eval(result.value); // TBD , need to be more focused on.
    //결과창에 표시

    inp['result'].value = calc;

}
// 이벤트 핸들러
// -------------------------------------------------------------------
// 숫자 및 사칙연산 버튼

for(var i=0;i < input.length; i++){
    // 숫자와 사칙 연산자만 입력 처리
    if(input[i].value != '=' && input[i].value != 'clear'){
        input[i].onclick = function(){
            calc(this.value);
        }
    }

}
// 초기화  버튼
cls_btn.onclick = function(){  //easier expression 
    clr();
}

// 결과 버튼
result_btn.onclick = function(){ //이런 알고리즘 더 익숙하게. 

    try{
        my_result(); //위에 my_result 함수 생성 
    }
    catch(err){ //err 
        var result = inp['result'];
        result.value = "ERROR"
    }
}


</script>


</body>


</html>